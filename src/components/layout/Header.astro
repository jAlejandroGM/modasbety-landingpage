<header role="banner">
  <nav
    class="py-3 md:py-4 px-4 w-full mx-auto"
    role="navigation"
    aria-label="Menú principal"
  >
    <ul
      class="flex gap-4 sm:gap-6 md:gap-8 flex-wrap justify-center items-center text-sm md:text-base"
    >
      <li>
        <a
          class="nav-anchor"
          href="#especialidades"
          aria-label="Ir a la sección de especialidades">Especialidades</a
        >
      </li>
      <!-- <li>
        <a
          class="nav-anchor"
          href="#historia"
          aria-label="Ir a la sección de nuestra historia">Nuestra Historia</a
        >
      </li> -->
      <li>
        <a
          class="nav-anchor"
          href="#ubicacion"
          aria-label="Ir a la sección de ubicación">Contactanos</a
        >
      </li>
    </ul>
  </nav>
</header>

<script type="module">
  document.addEventListener("DOMContentLoaded", () => {
    const anchors = document.querySelectorAll('.nav-anchor[href^="#"]');
    anchors.forEach((a) => {
      a.addEventListener("click", (e) => {
        const href = a.getAttribute("href");
        if (!href || href === "#") return;
        const target = document.querySelector(href);
        if (!target) return;

        e.preventDefault();
        target.scrollIntoView({
          behavior: "smooth",
          block: "center",
          inline: "nearest",
        });

        history.replaceState(
          null,
          "",
          window.location.pathname + window.location.search
        );

        const hadTabindex = target.hasAttribute("tabindex");
        if (!hadTabindex) target.setAttribute("tabindex", "-1");
        target.focus({ preventScroll: true });
        if (!hadTabindex) target.removeAttribute("tabindex");
      });
    });
  });
</script>
