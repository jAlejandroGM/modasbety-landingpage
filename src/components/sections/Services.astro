---
import { Icon } from "astro-icon/components";
import { SOCIAL_LINKS, MESSAGES } from "../../data/siteData";

const servicios = [
  {
    icon: "游놇",
    titulo: "Vestidos de Novia",
    descripcion:
      "Dise침os 칰nicos para el d칤a m치s especial. Hacemos realidad el vestido de tus sue침os.",
  },
  {
    icon: "游",
    titulo: "Vestidos de Fiesta",
    descripcion:
      "Elegancia y sofisticaci칩n para eventos especiales. Cada vestido refleja tu personalidad 칰nica.",
  },
  {
    icon: "游깿",
    titulo: "Vestidos de Noche",
    descripcion:
      "Glamour y distinci칩n para veladas especiales. Dise침os que destacan tu belleza natural.",
  },
  {
    icon: "游녬",
    titulo: "Vestidos de Quincea침era",
    descripcion:
      "Hacemos realidad el vestido de tus sue침os para una noche de quince a침os inolvidable.",
  },
  {
    icon: "游꿉",
    titulo: "Vestidos de Promoci칩n",
    descripcion: "Haz de tu graduaci칩n una noche 칰nica con elegancia y estilo.",
  },
  {
    icon: "游녮",
    titulo: "Sastrer칤a para Damas",
    descripcion:
      "Trajes ejecutivos y formales. Confecci칩n a medida para la mujer profesional moderna.",
  },
  {
    icon: "游녱",
    titulo: "Ropa Casual Premium",
    descripcion:
      "Blusas, pantalones y prendas del d칤a a d칤a con acabados de alta costura.",
  },
];

---

<section
  id="especialidades"
  class="flex flex-col items-center gap-12"
  aria-labelledby="especialidades-titulo"
>
  <div>
    <h2>
      Tu Estilo,<br />
      Nuestra Especialidad
    </h2>
    <p class="text-center text-xl text-gray-300 max-w-xl m-auto">
      Creamos prendas 칰nicas para cada ocasi칩n especial de tu vida
    </p>
  </div>

  <div class="slider overflow-hidden w-full h-auto py-8 m-auto relative">
    <div id="servicios-grid" class="flex">
      {
        servicios.map((servicio) => (
          <article class="service-card surface-panel flex flex-col align-center text-center gap-4 flex-none w-xs h-auto py-12 px-8 mr-8 rounded-xl backdrop-blur-md transition-all duration-300 hover:-translate-y-1 hover:bg-none hover:border-sakura-primary/30 hover:shadow-[0_0_35px_rgba(255,192,203,0.2)]">
            <span class="text-5xl">{servicio.icon}</span>
            <h3 class="font-text text-xl font-bold">{servicio.titulo}</h3>
            <p class="leading-7 text-gray-300">{servicio.descripcion}</p>
          </article>
        ))
      }
    </div>
  </div>

  <aside
    class="flex flex-col gap-4 p-8 border border-sakura-primary rounded-2xl shadow-[0_0_60px_rgba(255,192,203,0.2)]"
  >
    <p class="text-xl font-medium text-sakura-primary">
      쯃ista para tu prenda so침ada? Recibe una asesor칤a personalizada sin costo.
    </p>
    <a
      href={SOCIAL_LINKS.whatsapp(MESSAGES.whatsappCta)}
      target="_blank"
      class="wsp-btn self-center flex"
      rel="noopener noreferrer"
      aria-label="Solicitar informaci칩n detallada por WhatsApp"
    >
      Conversemos sobre tu idea
      <Icon
        name="mdi:whatsapp"
        class="h-8 w-8 text-inherit"
        aria-hidden="true"
      />
    </a>
  </aside>
</section>

<script>
  const grid = document.getElementById("servicios-grid");

  if (grid) {
    const cards = grid.querySelectorAll(".service-card");

    cards.forEach((card) => {
      const clone = card.cloneNode(true);
      (clone as HTMLElement).setAttribute("aria-hidden", "true");
      grid.appendChild(clone);
    });
  }
</script>

<style>
  .slider::before,
  .slider::after {
    position: absolute;
    top: 2rem;
    width: 150px;
    height: calc(100% - 4rem);
    pointer-events: none;
    content: "";
    z-index: 1;
    mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 20%,
      black 80%,
      transparent 100%
    );
  }

  .slider::before {
    left: 0;
    background: linear-gradient(
      to left,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 192, 203, 0.06) 80%,
      rgba(255, 192, 203, 0.1) 100%
    );
  }

  .slider::after {
    right: 0;
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 192, 203, 0.06) 80%,
      rgba(255, 192, 203, 0.12) 100%
    );
  }

  #servicios-grid:hover {
    animation-play-state: paused;
  }

  #servicios-grid {
    animation: scroll 40s linear infinite;
    width: calc((320px + 2rem) * 7);
  }

  @keyframes scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }
</style>
