---
import { Icon } from "astro-icon/components";
import { SOCIAL_LINKS, MESSAGES } from "../../data/siteData";

const servicios = [
  {
    icon: "游놇",
    titulo: "Vestidos de Novia",
    descripcion:
      "Dise침os 칰nicos para el d칤a m치s especial. Hacemos realidad el vestido de tus sue침os.",
  },
  {
    icon: "游",
    titulo: "Vestidos de Fiesta",
    descripcion:
      "Elegancia y sofisticaci칩n para eventos especiales. Cada vestido refleja tu personalidad 칰nica.",
  },
  {
    icon: "游깿",
    titulo: "Vestidos de Noche",
    descripcion:
      "Glamour y distinci칩n para veladas especiales. Dise침os que destacan tu belleza natural.",
  },
  {
    icon: "游녬",
    titulo: "Vestidos de Quincea침era",
    descripcion:
      "Hacemos realidad el vestido de tus sue침os para una noche de quince a침os inolvidable.",
  },
  {
    icon: "游꿉",
    titulo: "Vestidos de Promoci칩n",
    descripcion: "Haz de tu graduaci칩n una noche 칰nica con elegancia y estilo.",
  },
  {
    icon: "游녮",
    titulo: "Sastrer칤a para Damas",
    descripcion:
      "Trajes ejecutivos y formales. Confecci칩n a medida para la mujer profesional moderna.",
  },
  {
    icon: "游녱",
    titulo: "Ropa Casual Premium",
    descripcion:
      "Blusas, pantalones y prendas del d칤a a d칤a con acabados de alta costura.",
  },
];
---

<section
  id="especialidades"
  class="flex flex-col items-center gap-8 lg:gap-12"
  aria-labelledby="especialidades-titulo"
>
  <div>
    <h2>
      Tu Estilo,<br />
      Nuestra Especialidad
    </h2>
    <p
      class="text-center text-sm md:text-base lg:text-xl text-balance max-w-xl m-auto italic"
    >
      Creamos prendas 칰nicas para cada ocasi칩n especial de tu vida
    </p>
  </div>

  <div class="slider overflow-hidden w-full h-auto py-8 m-auto relative">
    <div id="servicios-grid" class="flex">
      {
        servicios.map((servicio) => (
          <article class="service-card surface-panel flex flex-col items-center text-center gap-3 lg:gap-4 flex-none w-64 md:w-72  h-auto p-6 md:py-8  mr-4 md:mr-8 rounded-xl backdrop-blur-md transition-all duration-300 hover:-translate-y-1 hover:bg-none hover:border-sakura-primary/30 hover:shadow-[0_0_35px_rgba(255,192,203,0.2)]">
            <span class="text-3xl md:text-4xl lg:text-5xl">
              {servicio.icon}
            </span>
            <h3 class="font-text text-base md:text-lg lg:text-xl font-bold">
              {servicio.titulo}
            </h3>
            <p class="text-sm lg:text-base leading-relaxed text-gray-300">
              {servicio.descripcion}
            </p>
          </article>
        ))
      }
    </div>
  </div>

  <aside
    class="flex flex-col items-center gap-6 p-6 lg:p-10 border border-sakura-primary rounded-2xl shadow-[0_0_60px_rgba(255,192,203,0.2)] w-11/12 md:w-4/6 max-w-2xl mx-auto backdrop-blur-sm"
  >
    <p
      class="text-base md:text-lg lg:text-2xl font-medium text-sakura-primary text-center text-balance"
    >
      쯃ista para tu prenda so침ada? Recibe una asesor칤a personalizada sin costo.
    </p>
    <a
      href={SOCIAL_LINKS.whatsapp(MESSAGES.whatsappCta)}
      target="_blank"
      class="wsp-btn flex items-center gap-2 text-sm md:text-base lg:text-lg"
      rel="noopener noreferrer"
      aria-label="Solicitar informaci칩n detallada por WhatsApp"
    >
      Conversemos sobre tu idea
      <Icon
        name="mdi:whatsapp"
        class="h-6 w-6 md:h-8 md:w-8 text-inherit"
        aria-hidden="true"
      />
    </a>
  </aside>
</section>

<script>
  const grid = document.getElementById("servicios-grid");

  if (grid) {
    const cards = grid.querySelectorAll(".service-card");

    cards.forEach((card) => {
      const clone = card.cloneNode(true);
      (clone as HTMLElement).setAttribute("aria-hidden", "true");
      grid.appendChild(clone);
    });
  }
</script>

<style>
  .slider::before,
  .slider::after {
    position: absolute;
    top: 2rem;
    width: 150px;
    height: calc(100% - 4rem);
    pointer-events: none;
    content: "";
    z-index: 1;
    mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 20%,
      black 80%,
      transparent 100%
    );
  }

  .slider::before {
    left: 0;
    background: linear-gradient(
      to left,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 192, 203, 0.06) 80%,
      rgba(255, 192, 203, 0.1) 100%
    );
  }

  .slider::after {
    right: 0;
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 192, 203, 0.06) 80%,
      rgba(255, 192, 203, 0.12) 100%
    );
  }

  #servicios-grid:hover {
    animation-play-state: paused;
  }

  #servicios-grid {
    animation: scroll 40s linear infinite;
    width: max-content;
  }

  @keyframes scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }
</style>
